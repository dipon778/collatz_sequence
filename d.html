<!DOCTYPE html>
<html>
<head>
    <title>Collatz Sequence Plotter</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <h1>Collatz Sequence Plotter</h1>
    <p>Enter a positive integer (n) to generate and plot the Collatz sequence.</p>
    <input type="number" id="inputNumber" placeholder="Enter a number">
    <button onclick="plotCollatzSequence()">Plot</button>
    <div id="plot"></div>

    <script>
        function collatz(n) {
            const sequence = [n];
            while (n !== 1) {
                if (n % 2 === 0) {
                    n = n / 2;
                } else {
                    n = 3 * n + 1;
                }
                sequence.push(n);
            }
            return sequence;
        }

        function plotCollatzSequence() {
            const n = parseInt(document.getElementById("inputNumber").value);
            if (isNaN(n) || n <= 0) {
                alert("Please enter a positive integer.");
                return;
            }

            const sequence = collatz(n);

            const data = [{
                x: Array.from({ length: sequence.length }, (_, i) => i),
                y: sequence,
                type: 'scatter',
                mode: 'lines+markers',
                name: 'Collatz Sequence',
            }];

            const layout = {
                title: `Collatz Sequence for ${n}`,
                xaxis: { title: 'Step' },
                yaxis: { title: 'Value' },
            };

            Plotly.newPlot('plot', data, layout);
        }
    </script>
</body>
</html>
